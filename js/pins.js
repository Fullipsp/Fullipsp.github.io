// cSpell:disable
let categoryIndex = 0;


addCategory("Mystic Messenger Pins", "http://msg.cheritz.com/")
    .addPin('gebby.jpg', 'GE Saeran Chibi <br>by Alicehwyy', "Owned")
    .addPin('raybby.jpg', 'Ray Chibi <br>by Alicehwyy', "Owned")
    .addPin('suitbby.jpg', 'Suit Saeran Chibi <br>by Alicehwyy', "Owned")
    .addPin('unknownbby.jpg', 'Unknown Chibi <br>by Alicehwyy', "Owned")
    .addPin('sebby.jpg', 'SE Saeran Chibi <br>by Alicehwyy', "Owned")
    .addPin('saeyoung.jpg', 'Saeyoung (707) <br>by Theartthatran', "Owned")
    .addPin('saeran.jpg', 'Saeran (Ray) <br>by Theartthatran', "Owned")

    .addPin('napray.jpg', 'Ray Chibi <br>by Napporin', "Owned")
    .addPin('napsuit.jpg', 'Suit Saeran Chibi <br>by Napporin', "Owned")
    .addPin('napunknown.jpg', 'Unknown Chibi <br>by Napporin', "Owned")
    .addPin('napsaeran.jpg', 'Wedding Saeran Chibi <br>by Napporin', "Owned")
    .addPin('napsaeran.jpg', 'Wedding Saeran Ring <br>by Napporin', "Owned")

addCategory("Genshin Impact Pins", "https://genshin.hoyoverse.com")
    .addPin('ChildeTraditional.jpg', 'Childe <br>by BirbsNest', "Owned")
    .addPin('XiaoTraditional.jpg', 'Xiao <br>by BirbsNest', "Owned")

    .addPin('fivexiao.jpg', 'Xiao <br>by Fiveonthe', "Shipped")
    .addPin('fiveitto.jpg', 'Itto <br>by Fiveonthe', "Shipped")
    .addPin('fivethoma.jpg', 'Thoma <br>by Fiveonthe', "Shipped")


    .addPin('lengorou.jpg', 'Gorou <br>by Lenacchi', "Owned")
    .addPin('lenzhongli.jpg', 'Zhongli <br>by Lenacchi', "Owned")
    .addPin('lenayato.jpg', 'Ayato <br>by Lenacchi', "Shipped")
    .addPin('lenxiao.jpg', 'Xiao <br>by Lenacchi', "Shipped")
    .addPin('lenkazuha.jpg', 'Kazuha <br>by Lenacchi', "Shipped")
    .addPin('eggkazuha.jpg', 'Kazuha <br>by angryeggmerch', "Shipped")

    .addPin('scara.jpg', 'Scaramouche <br>by Sugar Cubed Studios', "Owned")
    .addPin('lumine.jpg', 'Lumine <br>by Sugar Cubed Studios', "Owned")
    .addPin('childebby.jpg', 'Childe (Tartaglia) <br>by Sugar Cubed Studios', "Owned")
    .addPin('xiao.jpg', 'Xiao <br>by Sugar Cubed Studios', "Owned")

    .addPin('chibichilde.jpg', 'Chibi Childe <br>by AkuoArt', "Owned")
    .addPin('childechibiprofile.jpg', 'Chibi Childe Bust <br>by AkuoArt', "Owned")
    .addPin('luminechibiprofile.jpg', 'Chibi Lumine <br>by AkuoArt', "Owned")
    .addPin('xiaochibiprofile.jpg', 'Chibi Xiao <br>by AkuoArt', "Owned")
    .addPin('albedochibiprofile.jpg', 'Chibi Albedo <br>by AkuoArt', "Owned")
    .addPin('zhonglichibiprofile.jpg', 'Chibi Zhongli <br>by AkuoArt', "Owned")
    .addPin('scarachibiprofile.jpg', 'Chibi Scaramouche <br>by AkuoArt', "Owned")

    .addPin('anemo.jpg', 'Anemoculus <br>by Theartthatran', "Owned")

    .addPin('chilumi.jpg', 'Chilumi <br>by Hollichoo', "Owned")
    .addPin('promise.jpg', 'Snezhnayan Promise <br>by Hollichoo', "Owned")

addCategory("MDZS & Wangxian Pins",)
    .addPin('bluhdonkey.jpg', 'Wangxian Donkey <br>by Bluhtack', "Owned")
    .addPin('bluhroof.jpg', 'Wangxian on Roof <br>by Bluhtack', "Owned")
    .addPin('weiying.jpg', 'Valentine Wei Ying <br>by Billacookie', "Owned")
    .addPin('MyBuns.jpg', 'Wangxian Bunnies <br>by Lilycli', "Owned")

addCategory("Kirby Pins by ArcadeHealer", "https://arcadehealer.carrd.co")
    .addPin('OGKirby.jpg', 'Star Wand Kirby ⭐️', "Owned")
    .addPin('ClownKirby.jpg', 'Mirror Poyo', "Owned")
    .addPin('BottleKirby.jpg', 'Poyo in a Bottle', "Owned")
    .addPin('Clefairy.jpg', 'Clefairy Tamagotchi', "Owned")



addCategory("Cute Animal Pins by Birduyen")
    .addPin('Mousie.jpg', 'Spring Mouse ☼ Flora Series', "Owned")
    .addPin('Birb.jpg', 'Spring Tit ☼ Flora Series', "Owned")
    .addPin('LavenderBun.jpg', 'Spring Bunny ☼ Flora Series', "Owned")
    .addPin('Lily.jpg', 'Lily ❀ Studio Ghibli Enamel Pin Series ', "Owned")
    .addPin('wooloo.jpg', 'Wooloo ♡ Pokemon Series', "Owned")
    .addPin('sylveon.jpg', 'Sylveon ♡ Pokemon Series', "Owned")
    .addPin('eevee.jpg', 'Eevee ♡ Pokemon Series', "Owned")

addCategory('Cute Animal Pins by Blushsprout', "https://blushsprout.carrd.co")
    .addPin('lionm.jpg', 'Lion Meringue Pie ☆ Rainbow Food Animals Series', "Owned")
    .addPin('raspbunny.jpg', 'Raspbunny Crepe ☆ Rainbow Food Animals Series', "Owned")
    .addPin('Fawnfetti.jpg', 'Fawnfetti ☆ Rainbow Food Animals Series', "Owned")
    .addPin('Sloth.jpg', 'Cute Sloth ☆ Floranimals Series', "Owned")
    .addPin('froggie pin bag.jpg', 'Froggie Bag Freebie Frog (Kickstarter)', "Owned")
    .addPin('witchfroggie.jpg', 'Witch Froggie <br>(October 2020 Pin Club)', "Owned")
    .addPin('daffodil.jpg', 'Daffodil Duckling Floranimals Series', "Owned")
    .addPin('kitten.jpg', 'Cherry Blossom Spring Kitten Mini Pin', "Owned")
    .addPin('night.jpg', 'Froggie ITA (Nighttime) Bag (Kickstarter) (Peach and Holo inserts)', "Owned")

addCategory('Cute Animal Pins by Goldfishkang', "https://goldfishkang.com")
    .addPin('LaundroCat.jpg', 'Laundrocats Pin: Dawn ☆', "Owned")
    .addPin('Teacup.jpg', 'Reynard Manor Pin: Luna the Bookworm ♡', "Owned")
    .addPin('Adventurer.jpg', 'Little Adventurer ❀', "Owned")
    .addPin('PainterFox.jpg', 'Artsy Fox: Cloud Painter☆', "Owned")


addCategory('Mamobot Sailor Moon Pins', "https://linktr.ee/mamobot")
    .addPin('helioschibiusa.jpg', 'Chibiusa and Helios', "Owned")
    .addPin('humanluna.jpg', 'Human Luna', "Owned")
    .addPin('smfamily.jpg', 'Luna, Artemis and Diana kitties', "Owned")
    .addPin('SSailor.jpg', 'Super Sailor Moon', "Waiting")
    .addPin('SSerenity.jpg', 'Serenity Sailor Moon', "Waiting")
    .addPin('SCosmos.jpg', 'Cosmos Sailor Moon', "Waiting")



addCategory("Polymernai", "https://www.polymernai.com")
    .addPin('VioletEvergarden.png', 'Violet x Gilbert Pin <br>(Nostalgia Couples KS)', "Owned")
    .addPin('Zelink.png', 'Zelda x Link Pin <br>(Nostalgia Couples KS)', "Owned")
    .addPin('Ladynoir.png', 'Ladybug x Cat Noir Pin <br>(Nostalgia Couples KS)', "Owned")
    .addPin('chibicatnoir.jpg', 'Chibi Cat Noir <br> by AkuoArt', "Owned")


addInlineCategory()
    .addPin('Lilycli (UpbeatPals)', "https://lilycli.com", 'MyBuns.jpg', 'Wangxian Bunnies', "Owned")
    .addPin('Sharodactylart', "https://sharodactylart.com", 'BirthdayBun.jpg', 'Sprinkle Birthday Bunny', "Owned") 
    .addPin("Quirkory", "https://quirkory.carrd.co", 'raymond.jpg', 'Raymond Joy-Con (Animal Crossing)', "Owned")


addCategory('Weishi', "https://linktr.ee/weishi_art")
    .addPin('Weishi.jpg', 'Lily`s Hanami (September 2020 Pin Club)', "Owned")
    .addPin('WishingWell.jpg', 'Bunny`s Wishing Pond (August 2020 Pin Club) <br>(Seconds)', "Owned")
    .addPin('Isabelle.jpg', 'Animal Crossing: New Horizons Vacation Isabelle (Seconds)', "Owned")

addCategory('Xhilyn', "https://xhilyn.carrd.co")
    .addPin('WitchKitty.jpg', 'Pastel Kitty Witch Mascot', "Owned")
    .addPin('Cinamoroll.jpg', 'Cinnamoroll Sprinkle Bunny', "Owned")
    .addPin('StarBun.jpg', 'Star Bunny Witch', "Owned")
    .addPin('Aurora.jpg', 'Aurora Borealis Cutie (Limited Edition)<br>Thank you, SleepyIvy!', "Owned")
    .addPin('gamerkitty.jpg', 'Gamer Kitty Girl (March 2020 Pin Club)<br>Thank you SO much, Kyra! ♡', "Owned")






function closePin() {
    const el = document.getElementById("preview");
    el.firstChild.remove();
    el.style.display = "none";

}

function showPin(imageName) {
    const el = document.getElementById("preview");
    el.setAttribute("onClick", "closePin()");
    el.setAttribute("oncontextmenu", "return false;");
    el.style.display = "flex";
    const img = new Image();
    img.src = `images/pins/${imageName}`;
    el.append(img);
}


function addCategory(title, url) {
    categoryIndex++;
    let currentIndex = categoryIndex;

    const contentEl = document.querySelector(".content");

    const categoryTitleEl = `<a class="category-title" href="${url}" target="_blank" rel="noopener noreferrer">${title}</a>`;
    contentEl.innerHTML+=(categoryTitleEl);

    const categoryEl = document.createElement("div");
    categoryEl.id = `category-${currentIndex}`
    categoryEl.classList.add("category");
    contentEl.append(categoryEl);

    this.addPin = (pinImage, pinTitle, pinStatus) => {
        const iconName = () => {
            const lowercasePin = pinStatus.toLowerCase();
            if (lowercasePin === "waiting") return 'schedule';
            if (lowercasePin === "owned") return 'done';
            if (lowercasePin === "shipped") return 'local_shipping';
            if (lowercasePin === "pre-ordered") return 'shopping_bag';
        }

        const el = `
            <div class="pin-item" onClick="showPin('${pinImage}')">
                <img oncontextmenu="return false;" src="images/pins/${pinImage}" loading="lazy" alt="${pinTitle}" />
                <div class="pin-title">${pinTitle}</div>
                <div class="status ${pinStatus.toLowerCase()}"><span class="material-icons">${iconName()}</span>${pinStatus}</div>
            </div>
        `;
        document.getElementById(categoryEl.id).innerHTML+= el;
        return this;
    }

    return this;
}
function addInlineCategory() {
    categoryIndex++;
    let currentIndex = categoryIndex;

    const contentEl = document.querySelector(".content");


    const categoryEl = document.createElement("div");
    categoryEl.id = `category-${currentIndex}`
    categoryEl.classList.add("category", "inline");
    contentEl.append(categoryEl);

    this.addPin = (title, url, pinImage, pinTitle, pinStatus) => {
        const iconName = () => {
            const lowercasePin = pinStatus.toLowerCase();
            if (lowercasePin === "waiting") return 'schedule';
            if (lowercasePin === "owned") return 'done';
            if (lowercasePin === "shipped") return 'local_shipping';
            if (lowercasePin === "pre-ordered") return 'shopping_bag';
            if (lowercasePin === "sold") return 'monetization_on';
        }

        const el = `
            <div class="pin-outer">
                <a class="category-title" href="${url}" target="_blank" rel="noopener noreferrer">${title}</a>
                <div class="pin-item" onClick="showPin('${pinImage}')">
                    <img oncontextmenu="return false;" src="images/pins/${pinImage}" loading="lazy" alt="${pinTitle}" />
                    <div class="pin-title">${pinTitle}</div>
                    <div class="status ${pinStatus.toLowerCase()}"><span class="material-icons">${iconName()}</span>${pinStatus}</div>
              </div>
           </div>
        `;
        document.getElementById(categoryEl.id).innerHTML+= el;
        return this;
    }

    return this;
}


const categoryEl = document.querySelector(".pin-item");
const contentEl = document.querySelector(".content")


const moveTitle = () => {
    const categoryLeft = categoryEl.getBoundingClientRect().left;
    const contentLeft = contentEl.getBoundingClientRect().left;

    document.querySelectorAll(".category-title").forEach(el => {
        if (el.parentElement.classList.contains("pin-outer")) return;
        el.style.transform = `translate(${categoryLeft - contentLeft}px, 0)`;
    });
}

moveTitle();

window.addEventListener("resize", moveTitle)